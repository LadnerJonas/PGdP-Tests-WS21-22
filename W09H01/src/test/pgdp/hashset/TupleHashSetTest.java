package pgdp.hashset;

import org.junit.jupiter.api.Test;
import pgdp.pools.Tuple;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.NoSuchElementException;

import static org.junit.jupiter.api.Assertions.*;

class TupleHashSetTest {
  
  @Test
  void iterator() {
    TupleHashSet<Integer, String> integerStringTupleHashSet0 = new TupleHashSet<>();
    
    assertThrows(NoSuchElementException.class, () -> integerStringTupleHashSet0.iterator().next()); //https://zulip.in.tum.de/#narrow/stream/871-PGdP-W09H01--.20Tuple.20Pools/topic/iterator/near/418731
    
    short count = 0;
    for (Tuple<Integer, String> ignored : integerStringTupleHashSet0) {
      count++;
    }
    assertEquals(0, count);
    
    Integer int0 = 123;
    String string0 = "Ladner";
    Integer int1 = 321;
    String string1 = "Jonas";
    
    Tuple<Integer, String> tuple0 = new Tuple<>(int0, string0);
    Tuple<Integer, String> tuple0Duplicate = new Tuple<>(int0, string0);
    Tuple<Integer, String> tuple1 = new Tuple<>(int1, string1);
    Tuple<Integer, String> tuple2 = new Tuple<>(int1, string0);
    
    integerStringTupleHashSet0.insert(tuple0);
    integerStringTupleHashSet0.insert(tuple0Duplicate);
    integerStringTupleHashSet0.insert(tuple1);
    integerStringTupleHashSet0.insert(tuple2);
    
    ArrayList<Tuple<Integer, String>> tuples = new ArrayList<>();
    for (Tuple<Integer, String> integerStringTuple : integerStringTupleHashSet0) {
      tuples.add(integerStringTuple);
    }
    assertEquals(3, tuples.size());
    assertTrue(tuples.contains(tuple0));
    assertTrue(tuples.contains(tuple1));
    assertTrue(tuples.contains(tuple2));
  }
  
  @Test
  void iteratorFullHashSet() {
    
    Tuple<Integer, Integer>[] tuples = new Tuple[]{
            new Tuple<>(0, 0),
            new Tuple<>(1, 1),
            new Tuple<>(2, 2),
            new Tuple<>(3, 3),
            new Tuple<>(4, 4),
            new Tuple<>(5, 5),
            new Tuple<>(6, 6),
            new Tuple<>(7, 7),
            new Tuple<>(8, 8),
            new Tuple<>(9, 9),
            new Tuple<>(10, 10),
            new Tuple<>(11, 11),
            new Tuple<>(12, 12),
            new Tuple<>(13, 13),
            new Tuple<>(14, 14),
            new Tuple<>(15, 15),
            new Tuple<>(16, 16),
            new Tuple<>(17, 17),
            new Tuple<>(18, 18),
            new Tuple<>(19, 19),
            new Tuple<>(20, 20),
            new Tuple<>(21, 21),
            new Tuple<>(22, 22),
            new Tuple<>(23, 23),
            new Tuple<>(24, 24),
            new Tuple<>(25, 25),
            new Tuple<>(26, 26),
            new Tuple<>(27, 27),
            new Tuple<>(28, 28),
            new Tuple<>(29, 29),
            new Tuple<>(30, 30),
            new Tuple<>(31, 31),
            new Tuple<>(32, 32),
            new Tuple<>(33, 33),
            new Tuple<>(34, 34),
            new Tuple<>(35, 35),
            new Tuple<>(36, 36),
            new Tuple<>(37, 37),
            new Tuple<>(38, 38),
            new Tuple<>(39, 39),
            new Tuple<>(40, 40),
            new Tuple<>(41, 41),
            new Tuple<>(42, 42),
            new Tuple<>(43, 43),
            new Tuple<>(44, 44),
            new Tuple<>(45, 45),
            new Tuple<>(46, 46),
            new Tuple<>(47, 47),
            new Tuple<>(48, 48),
            new Tuple<>(49, 49),
            new Tuple<>(50, 50),
            new Tuple<>(51, 51),
            new Tuple<>(52, 52),
            new Tuple<>(53, 53),
            new Tuple<>(54, 54),
            new Tuple<>(55, 55),
            new Tuple<>(56, 56),
            new Tuple<>(57, 57),
            new Tuple<>(58, 58),
            new Tuple<>(59, 59),
            new Tuple<>(60, 60),
            new Tuple<>(61, 61),
            new Tuple<>(62, 62),
            new Tuple<>(63, 63),
            new Tuple<>(64, 64),
            new Tuple<>(65, 65),
            new Tuple<>(66, 66),
            new Tuple<>(67, 67),
            new Tuple<>(68, 68),
            new Tuple<>(69, 69),
            new Tuple<>(70, 70),
            new Tuple<>(71, 71),
            new Tuple<>(72, 72),
            new Tuple<>(73, 73),
            new Tuple<>(74, 74),
            new Tuple<>(75, 75),
            new Tuple<>(76, 76),
            new Tuple<>(77, 77),
            new Tuple<>(78, 78),
            new Tuple<>(79, 79),
            new Tuple<>(80, 80),
            new Tuple<>(81, 81),
            new Tuple<>(82, 82),
            new Tuple<>(83, 83),
            new Tuple<>(84, 84),
            new Tuple<>(85, 85),
            new Tuple<>(86, 86),
            new Tuple<>(87, 87),
            new Tuple<>(88, 88),
            new Tuple<>(89, 89),
            new Tuple<>(90, 90),
            new Tuple<>(91, 91),
            new Tuple<>(92, 92),
            new Tuple<>(93, 93),
            new Tuple<>(94, 94),
            new Tuple<>(95, 95),
            new Tuple<>(96, 96),
            new Tuple<>(97, 97),
            new Tuple<>(98, 98),
            new Tuple<>(99, 99),
            new Tuple<>(100, 100),
            new Tuple<>(101, 101),
            new Tuple<>(102, 102),
            new Tuple<>(103, 103),
            new Tuple<>(104, 104),
            new Tuple<>(105, 105),
            new Tuple<>(106, 106),
            new Tuple<>(107, 107),
            new Tuple<>(108, 108),
            new Tuple<>(109, 109),
            new Tuple<>(110, 110),
            new Tuple<>(111, 111),
            new Tuple<>(112, 112),
            new Tuple<>(113, 113),
            new Tuple<>(114, 114),
            new Tuple<>(115, 115),
            new Tuple<>(116, 116),
            new Tuple<>(117, 117),
            new Tuple<>(118, 118),
            new Tuple<>(119, 119),
            new Tuple<>(120, 120),
            new Tuple<>(121, 121),
            new Tuple<>(122, 122),
            new Tuple<>(123, 123),
            new Tuple<>(124, 124),
            new Tuple<>(125, 125),
            new Tuple<>(126, 126),
            new Tuple<>(127, 127),
            new Tuple<>(128, 128),
            new Tuple<>(129, 129),
            new Tuple<>(130, 130),
            new Tuple<>(131, 131),
            new Tuple<>(132, 132),
            new Tuple<>(133, 133),
            new Tuple<>(134, 134),
            new Tuple<>(135, 135),
            new Tuple<>(136, 136),
            new Tuple<>(137, 137),
            new Tuple<>(138, 138),
            new Tuple<>(139, 139),
            new Tuple<>(140, 140),
            new Tuple<>(141, 141),
            new Tuple<>(142, 142),
            new Tuple<>(143, 143),
            new Tuple<>(144, 144),
            new Tuple<>(145, 145),
            new Tuple<>(146, 146),
            new Tuple<>(147, 147),
            new Tuple<>(148, 148),
            new Tuple<>(149, 149),
            new Tuple<>(150, 150),
            new Tuple<>(151, 151),
            new Tuple<>(152, 152),
            new Tuple<>(153, 153),
            new Tuple<>(154, 154),
            new Tuple<>(155, 155),
            new Tuple<>(156, 156),
            new Tuple<>(157, 157),
            new Tuple<>(158, 158),
            new Tuple<>(159, 159),
            new Tuple<>(160, 160),
            new Tuple<>(161, 161),
            new Tuple<>(162, 162),
            new Tuple<>(163, 163),
            new Tuple<>(164, 164),
            new Tuple<>(165, 165),
            new Tuple<>(166, 166),
            new Tuple<>(167, 167),
            new Tuple<>(168, 168),
            new Tuple<>(169, 169),
            new Tuple<>(170, 170),
            new Tuple<>(171, 171),
            new Tuple<>(172, 172),
            new Tuple<>(173, 173),
            new Tuple<>(174, 174),
            new Tuple<>(175, 175),
            new Tuple<>(176, 176),
            new Tuple<>(177, 177),
            new Tuple<>(178, 178),
            new Tuple<>(179, 179),
            new Tuple<>(180, 180),
            new Tuple<>(181, 181),
            new Tuple<>(182, 182),
            new Tuple<>(183, 183),
            new Tuple<>(184, 184),
            new Tuple<>(185, 185),
            new Tuple<>(186, 186),
            new Tuple<>(187, 187),
            new Tuple<>(188, 188),
            new Tuple<>(189, 189),
            new Tuple<>(190, 190),
            new Tuple<>(191, 191),
            new Tuple<>(192, 192),
            new Tuple<>(193, 193),
            new Tuple<>(194, 194),
            new Tuple<>(195, 195),
            new Tuple<>(196, 196),
            new Tuple<>(197, 197),
            new Tuple<>(198, 198),
            new Tuple<>(199, 199),
            new Tuple<>(200, 200),
            new Tuple<>(201, 201),
            new Tuple<>(202, 202),
            new Tuple<>(203, 203),
            new Tuple<>(204, 204),
            new Tuple<>(205, 205),
            new Tuple<>(206, 206),
            new Tuple<>(207, 207),
            new Tuple<>(208, 208),
            new Tuple<>(209, 209),
            new Tuple<>(210, 210),
            new Tuple<>(211, 211),
            new Tuple<>(212, 212),
            new Tuple<>(213, 213),
            new Tuple<>(214, 214),
            new Tuple<>(215, 215),
            new Tuple<>(216, 216),
            new Tuple<>(217, 217),
            new Tuple<>(218, 218),
            new Tuple<>(219, 219),
            new Tuple<>(220, 220),
            new Tuple<>(221, 221),
            new Tuple<>(222, 222),
            new Tuple<>(223, 223),
            new Tuple<>(224, 224),
            new Tuple<>(225, 225),
            new Tuple<>(226, 226),
            new Tuple<>(227, 227),
            new Tuple<>(228, 228),
            new Tuple<>(229, 229),
            new Tuple<>(230, 230),
            new Tuple<>(231, 231),
            new Tuple<>(232, 232),
            new Tuple<>(233, 233),
            new Tuple<>(234, 234),
            new Tuple<>(235, 235),
            new Tuple<>(236, 236),
            new Tuple<>(237, 237),
            new Tuple<>(238, 238),
            new Tuple<>(239, 239),
            new Tuple<>(240, 240),
            new Tuple<>(241, 241),
            new Tuple<>(242, 242),
            new Tuple<>(243, 243),
            new Tuple<>(244, 244),
            new Tuple<>(245, 245),
            new Tuple<>(246, 246),
            new Tuple<>(247, 247),
            new Tuple<>(248, 248),
            new Tuple<>(249, 249),
            new Tuple<>(250, 250),
            new Tuple<>(251, 251),
            new Tuple<>(252, 252),
            new Tuple<>(253, 253),
            new Tuple<>(254, 254),
            new Tuple<>(255, 255),
            new Tuple<>(256, 256),
            new Tuple<>(257, 257),
            new Tuple<>(258, 258),
            new Tuple<>(259, 259),
            new Tuple<>(260, 260),
            new Tuple<>(261, 261),
            new Tuple<>(262, 262),
            new Tuple<>(263, 263),
            new Tuple<>(264, 264),
            new Tuple<>(265, 265),
            new Tuple<>(266, 266),
            new Tuple<>(267, 267),
            new Tuple<>(268, 268),
            new Tuple<>(269, 269),
            new Tuple<>(270, 270),
            new Tuple<>(271, 271),
            new Tuple<>(272, 272),
            new Tuple<>(273, 273),
            new Tuple<>(274, 274),
            new Tuple<>(275, 275),
            new Tuple<>(276, 276),
            new Tuple<>(277, 277),
            new Tuple<>(278, 278),
            new Tuple<>(279, 279),
            new Tuple<>(280, 280),
            new Tuple<>(281, 281),
            new Tuple<>(282, 282),
            new Tuple<>(283, 283),
            new Tuple<>(284, 284),
            new Tuple<>(285, 285),
            new Tuple<>(286, 286),
            new Tuple<>(287, 287),
            new Tuple<>(288, 288),
            new Tuple<>(289, 289),
            new Tuple<>(290, 290),
            new Tuple<>(291, 291),
            new Tuple<>(292, 292),
            new Tuple<>(293, 293),
            new Tuple<>(294, 294),
            new Tuple<>(295, 295),
            new Tuple<>(296, 296),
            new Tuple<>(297, 297),
            new Tuple<>(298, 298),
            new Tuple<>(299, 299),
            new Tuple<>(300, 300),
            new Tuple<>(301, 301),
            new Tuple<>(302, 302),
            new Tuple<>(303, 303),
            new Tuple<>(304, 304),
            new Tuple<>(305, 305),
            new Tuple<>(306, 306),
            new Tuple<>(307, 307),
            new Tuple<>(308, 308),
            new Tuple<>(309, 309),
            new Tuple<>(310, 310),
            new Tuple<>(311, 311),
            new Tuple<>(312, 312),
            new Tuple<>(313, 313),
            new Tuple<>(314, 314),
            new Tuple<>(315, 315),
            new Tuple<>(316, 316),
            new Tuple<>(317, 317),
            new Tuple<>(318, 318),
            new Tuple<>(319, 319),
            new Tuple<>(320, 320),
            new Tuple<>(321, 321),
            new Tuple<>(322, 322),
            new Tuple<>(323, 323),
            new Tuple<>(324, 324),
            new Tuple<>(325, 325),
            new Tuple<>(326, 326),
            new Tuple<>(327, 327),
            new Tuple<>(328, 328),
            new Tuple<>(329, 329),
            new Tuple<>(330, 330),
            new Tuple<>(331, 331),
            new Tuple<>(332, 332),
            new Tuple<>(333, 333),
            new Tuple<>(334, 334),
            new Tuple<>(335, 335),
            new Tuple<>(336, 336),
            new Tuple<>(337, 337),
            new Tuple<>(338, 338),
            new Tuple<>(339, 339),
            new Tuple<>(340, 340),
            new Tuple<>(341, 341),
            new Tuple<>(342, 342),
            new Tuple<>(343, 343),
            new Tuple<>(344, 344),
            new Tuple<>(345, 345),
            new Tuple<>(346, 346),
            new Tuple<>(347, 347),
            new Tuple<>(348, 348),
            new Tuple<>(349, 349),
            new Tuple<>(350, 350),
            new Tuple<>(351, 351),
            new Tuple<>(352, 352),
            new Tuple<>(353, 353)};
    
    TupleHashSet<Integer, Integer> integerIntegerTupleHashSet = new TupleHashSet<>();
    Arrays.stream(tuples).forEach(integerIntegerTupleHashSet::insert);
    
    ArrayList<Tuple<Integer, Integer>> tuplesInHashSet = new ArrayList<>();
    for (Tuple<Integer, Integer> integerIntegerTuple : integerIntegerTupleHashSet) {
      tuplesInHashSet.add(integerIntegerTuple);
    }
    assertEquals(353, tuplesInHashSet.size());
    assertEquals(353, integerIntegerTupleHashSet.insertedTuples());
    
    tuplesInHashSet = new ArrayList<>();
    for (Tuple<Integer, Integer> integerIntegerTuple : integerIntegerTupleHashSet) {
      tuplesInHashSet.add(integerIntegerTuple);
    }
    assertEquals(353, tuplesInHashSet.size());
    
  }
  
}